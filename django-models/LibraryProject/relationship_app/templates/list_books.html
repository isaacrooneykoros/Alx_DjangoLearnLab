<!-- relationship_app/list_books.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>List of Books</title>
</head>
<body>
    <h1>Books Available:</h1>

    <ul>
        {% for book in books %}
        <li>
            {{ book.title }} by {{ book.author.name }}

            <!-- Show edit/delete buttons if user has permissions -->
            {% if perms.relationship_app.can_change_book %}
                <a href="{% url 'edit_book' book.id %}">Edit</a>
            {% endif %}
            
            {% if perms.relationship_app.can_delete_book %}
                <a href="{% url 'delete_book' book.id %}">Delete</a>
            {% endif %}
        </li>
        {% endfor %}
    </ul>

    <!-- Show Add button if user has permission -->
    {% if perms.relationship_app.can_add_book %}
        <p><a href="{% url 'add_book' %}">Add a new Book</a></p>
    {% endif %}
</body>
</html>
